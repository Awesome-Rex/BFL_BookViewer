{"version":3,"sources":["js/index.js"],"names":["addGlobalEventListener","type","selector","callback","options","document","addEventListener","e","target","matches","mouseHover","element","event","rect","getBoundingClientRect","clientX","left","right","clientY","top","bottom","updateTouch","initial","console","log","style","setProperty","value","min","max","Math","querySelector","classList","toggle","checked","updatePages","bookPlayer","parseInt","window","getComputedStyle","getPropertyValue","innerText","offsetWidth","querySelectorAll","forEach","elem","i","arr","closest","add","remove","once","matchMedia"],"mappings":"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","file":"js.48972037.js","sourceRoot":"..\\src","sourcesContent":["// const { update } = require(\"lodash\");\r\n\r\nfunction addGlobalEventListener(type, selector, callback, options) {\r\n    document.addEventListener(type, e => {\r\n        if (e.target.matches(selector)) {\r\n            callback(e);\r\n        }\r\n    }, options)\r\n}\r\n\r\nfunction mouseHover(element, event){\r\n    let rect = element.getBoundingClientRect();\r\n\r\n    return (\r\n        event.clientX >= rect.left && event.clientX <= rect.right &&\r\n        event.clientY >= rect.top && event.clientY <= rect.bottom\r\n    );\r\n}\r\n\r\n\r\n\r\nfunction updateTouch() {\r\n\r\n}\r\n\r\n\r\n\r\ninitial = (() => {\r\n    console.log(\"initial load\");\r\n\r\n    { //helpers\r\n        //min/max area\r\n        addGlobalEventListener(\"load\", \".-live-area\", e => {\r\n            // boxes.forEach(box => {\r\n            //     new ResizeObserver(entries => {\r\n            //         const width = Math.floor(entries[0].contentRect.width);\r\n            //         const height = Math.floor(entries[0].contentRect.height);\r\n            //         entries[0].target.value = `I'm ${width}px and ${height}px tall`;\r\n            //     }).observe(box);\r\n            // });\r\n        });\r\n\r\n        // areaObserver = new ResizeObserver(entries => {\r\n\r\n        // });\r\n        // areaObserver.observe()\r\n        // window.addEventListener('storage', e => {\r\n        //     console.log(\"storage\");\r\n\r\n        //     document.querySelectorAll(\".-live-area\").forEach((area, index, array) => {\r\n\r\n        //     });\r\n        // });\r\n\r\n        //range update fill\r\n        addGlobalEventListener(\"load\", \"input[type='range']\", e => {\r\n\r\n        });\r\n    }\r\n})();\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\r\n    console.log(\"document load\");\r\n\r\n    // elem = document.createElement(\"span\");\r\n    // elem.classList.add(\"-live-area\");\r\n    // elem.innerText = \"new\";\r\n    // document.querySelector(\"body\").append(elem);\r\n\r\n    { //helpers\r\n        //range slider fill\r\n        addGlobalEventListener(\"input\", \"input[type='range']\", e => {\r\n            e.target.style.setProperty(\"--range-progress\", ((e.target.value - e.target.min) / (e.target.max - e.target.min) * 100) + \"%\");\r\n        });\r\n        //range slider restrictions\r\n        addGlobalEventListener(\"change\", \"input[type='number']\", e => {\r\n            e.target.value = Math.min(Math.max(e.target.value, e.target.min), e.target.max);\r\n        });\r\n    }\r\n    \r\n    { //page\r\n        //navbar\r\n        document.querySelector(\"#navbar .toggle\").addEventListener(\"change\", () => {\r\n            document.querySelector(\"#navbar .right-navbar\").classList.toggle(\"-active\", document.querySelector(\"#navbar .toggle\").checked);\r\n        });\r\n\r\n\r\n        //progress bar\r\n        { //data\r\n            function updatePages(bookPlayer) {\r\n                //set slider\r\n                bookPlayer.querySelector(\".slider\").value = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--current-page\"));\r\n                bookPlayer.querySelector(\".slider\").min = 1;\r\n                bookPlayer.querySelector(\".slider\").max = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--total-pages\"));\r\n            /**/bookPlayer.querySelector(\".slider\").style.setProperty(\"--range-progress\", ((bookPlayer.querySelector(\".slider\").value - bookPlayer.querySelector(\".slider\").min) / (bookPlayer.querySelector(\".slider\").max - bookPlayer.querySelector(\".slider\").min) * 100) + \"%\");\r\n\r\n                //set point counter\r\n                bookPlayer.querySelector(\".point-counter .page\").value = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--current-page\"));\r\n                bookPlayer.querySelector(\".point-counter .page\").min = 1;\r\n                bookPlayer.querySelector(\".point-counter .page\").max = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--total-pages\"));\r\n                bookPlayer.querySelector(\".point-counter .max\").innerText = window.getComputedStyle(bookPlayer).getPropertyValue(\"--total-pages\");\r\n                bookPlayer.querySelector(\".point-counter\").style.setProperty(\"--comp-width\", bookPlayer.querySelector(\".point-counter\").offsetWidth + \"px\");\r\n            }\r\n            document.querySelectorAll(\".book-player\").forEach((elem, i, arr) => {\r\n                updatePages(elem);\r\n            });\r\n            addGlobalEventListener(\"input\", \".book-player .slider\", e => {\r\n                e.target.closest(\".book-player\").style.setProperty(\"--current-page\", e.target.value);\r\n\r\n                updatePages(e.target.closest(\".book-player\"));\r\n            });\r\n            addGlobalEventListener(\"change\", \".book-player .point-counter .page\", e => {\r\n                // console.log(e.target.value);\r\n                e.target.closest(\".book-player\").style.setProperty(\"--current-page\", e.target.value);\r\n\r\n                updatePages(e.target.closest(\".book-player\"));\r\n            });\r\n        }\r\n        { //styling\r\n            document.addEventListener(\"mousemove\", event => {\r\n                document.querySelectorAll(\".book-player .progress .zone\").forEach((elem, i, arr) => {\r\n                    elem.closest(\".progress\").classList.toggle(\"-near\", mouseHover(elem, event));\r\n                });\r\n            });\r\n            addGlobalEventListener(\"mouseover\", \".book-player .progress .slider\", e => {\r\n                e.target.closest(\".progress\").classList.add(\"-hover\");\r\n\r\n                e.target.addEventListener(\"mouseout\", e => {\r\n                    e.target.closest(\".progress\").classList.remove(\"-hover\");\r\n                }, {once: true});\r\n            });\r\n            addGlobalEventListener(\"input\", \".book-player .progress .slider\", e => {\r\n                e.target.closest(\".progress\").classList.add(\"-active\");\r\n                console.log(\"input\");\r\n\r\n                e.target.addEventListener(\"change\", e => {\r\n                    e.target.closest(\".progress\").classList.remove(\"-active\");\r\n                    console.log(\"change\");\r\n                }, {once: true});\r\n            });\r\n        }\r\n    }\r\n});\r\n\r\nwindow.addEventListener(\"load\", e => {\r\n    console.log(\"window load\");\r\n\r\n    { //device accomodations\r\n        window.addEventListener(\"resize\", event => {\r\n            document.querySelectorAll(\".book-player .progress\").forEach((elem) => {\r\n                elem.classList.toggle(\"-touch\", window.matchMedia(\"(hover: none)\").matches);\r\n            });\r\n        });\r\n        document.querySelectorAll(\".book-player .progress\").forEach((elem) => {\r\n            elem.classList.toggle(\"-touch\", window.matchMedia(\"(hover: none)\").matches);\r\n        });\r\n    }\r\n});"]}