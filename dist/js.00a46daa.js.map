{"version":3,"sources":["js/index.js"],"names":["addGlobalEventListener","type","selector","callback","options","document","addEventListener","e","target","matches","mouseHover","element","event","rect","getBoundingClientRect","clientX","left","right","clientY","top","bottom","updateTouch","initial","console","log","style","setProperty","value","min","max","Math","querySelector","classList","toggle","checked","updatePages","bookPlayer","parseInt","window","getComputedStyle","getPropertyValue","innerText","offsetWidth","querySelectorAll","forEach","elem","i","arr","closest","add","remove","once","matchMedia"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"..\\src","sourcesContent":["// const { update } = require(\"lodash\");\r\n\r\nfunction addGlobalEventListener(type, selector, callback, options) {\r\n    document.addEventListener(type, e => {\r\n        if (e.target.matches(selector)) {\r\n            callback(e);\r\n        }\r\n    }, options)\r\n}\r\n\r\nfunction mouseHover(element, event){\r\n    let rect = element.getBoundingClientRect();\r\n\r\n    return (\r\n        event.clientX >= rect.left && event.clientX <= rect.right &&\r\n        event.clientY >= rect.top && event.clientY <= rect.bottom\r\n    );\r\n}\r\n\r\n\r\n\r\nfunction updateTouch() {\r\n\r\n}\r\n\r\n\r\n\r\ninitial = (() => {\r\n    console.log(\"initial load\");\r\n\r\n    { //helpers\r\n        //min/max area\r\n        addGlobalEventListener(\"load\", \".-live-area\", e => {\r\n            // boxes.forEach(box => {\r\n            //     new ResizeObserver(entries => {\r\n            //         const width = Math.floor(entries[0].contentRect.width);\r\n            //         const height = Math.floor(entries[0].contentRect.height);\r\n            //         entries[0].target.value = `I'm ${width}px and ${height}px tall`;\r\n            //     }).observe(box);\r\n            // });\r\n        });\r\n\r\n        // areaObserver = new ResizeObserver(entries => {\r\n\r\n        // });\r\n        // areaObserver.observe()\r\n        // window.addEventListener('storage', e => {\r\n        //     console.log(\"storage\");\r\n\r\n        //     document.querySelectorAll(\".-live-area\").forEach((area, index, array) => {\r\n\r\n        //     });\r\n        // });\r\n\r\n        //range update fill\r\n        addGlobalEventListener(\"load\", \"input[type='range']\", e => {\r\n\r\n        });\r\n    }\r\n})();\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\r\n    console.log(\"document load\");\r\n\r\n    // elem = document.createElement(\"span\");\r\n    // elem.classList.add(\"-live-area\");\r\n    // elem.innerText = \"new\";\r\n    // document.querySelector(\"body\").append(elem);\r\n\r\n    { //helpers\r\n        //range slider fill\r\n        addGlobalEventListener(\"input\", \"input[type='range']\", e => {\r\n            e.target.style.setProperty(\"--range-progress\", ((e.target.value - e.target.min) / (e.target.max - e.target.min) * 100) + \"%\");\r\n        });\r\n        //range slider restrictions\r\n        addGlobalEventListener(\"change\", \"input[type='number']\", e => {\r\n            e.target.value = Math.min(Math.max(e.target.value, e.target.min), e.target.max);\r\n        });\r\n    }\r\n    \r\n    { //page\r\n        //navbar\r\n        document.querySelector(\"#navbar .toggle\").addEventListener(\"change\", () => {\r\n            document.querySelector(\"#navbar .right-navbar\").classList.toggle(\"-active\", document.querySelector(\"#navbar .toggle\").checked);\r\n        });\r\n\r\n\r\n        //progress bar\r\n        { //data\r\n            function updatePages(bookPlayer) {\r\n                //set slider\r\n                bookPlayer.querySelector(\".slider\").value = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--current-page\"));\r\n                bookPlayer.querySelector(\".slider\").min = 1;\r\n                bookPlayer.querySelector(\".slider\").max = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--total-pages\"));\r\n            /**/bookPlayer.querySelector(\".slider\").style.setProperty(\"--range-progress\", ((bookPlayer.querySelector(\".slider\").value - bookPlayer.querySelector(\".slider\").min) / (bookPlayer.querySelector(\".slider\").max - bookPlayer.querySelector(\".slider\").min) * 100) + \"%\");\r\n\r\n                //set point counter\r\n                bookPlayer.querySelector(\".point-counter .page\").value = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--current-page\"));\r\n                bookPlayer.querySelector(\".point-counter .page\").min = 1;\r\n                bookPlayer.querySelector(\".point-counter .page\").max = parseInt(window.getComputedStyle(bookPlayer).getPropertyValue(\"--total-pages\"));\r\n                bookPlayer.querySelector(\".point-counter .max\").innerText = window.getComputedStyle(bookPlayer).getPropertyValue(\"--total-pages\");\r\n                bookPlayer.querySelector(\".point-counter\").style.setProperty(\"--comp-width\", bookPlayer.querySelector(\".point-counter\").offsetWidth + \"px\");\r\n            }\r\n            document.querySelectorAll(\".book-player\").forEach((elem, i, arr) => {\r\n                updatePages(elem);\r\n            });\r\n            addGlobalEventListener(\"input\", \".book-player .slider\", e => {\r\n                e.target.closest(\".book-player\").style.setProperty(\"--current-page\", e.target.value);\r\n\r\n                updatePages(e.target.closest(\".book-player\"));\r\n            });\r\n            addGlobalEventListener(\"change\", \".book-player .point-counter .page\", e => {\r\n                // console.log(e.target.value);\r\n                e.target.closest(\".book-player\").style.setProperty(\"--current-page\", e.target.value);\r\n\r\n                updatePages(e.target.closest(\".book-player\"));\r\n            });\r\n        }\r\n        { //styling\r\n            document.addEventListener(\"mousemove\", event => {\r\n                document.querySelectorAll(\".book-player .progress .zone\").forEach((elem, i, arr) => {\r\n                    elem.closest(\".progress\").classList.toggle(\"-near\", mouseHover(elem, event));\r\n                });\r\n            });\r\n            addGlobalEventListener(\"mouseover\", \".book-player .progress .slider\", e => {\r\n                e.target.closest(\".progress\").classList.add(\"-hover\");\r\n\r\n                e.target.addEventListener(\"mouseout\", e => {\r\n                    e.target.closest(\".progress\").classList.remove(\"-hover\");\r\n                }, {once: true});\r\n            });\r\n            addGlobalEventListener(\"input\", \".book-player .progress .slider\", e => {\r\n                e.target.closest(\".progress\").classList.add(\"-active\");\r\n\r\n                e.target.addEventListener(\"change\", e => {\r\n                    e.target.closest(\".progress\").classList.remove(\"-active\");\r\n                }, {once: true});\r\n            });\r\n        }\r\n    }\r\n});\r\n\r\nwindow.addEventListener(\"load\", e => {\r\n    console.log(\"window load\");\r\n\r\n    { //device accomodations\r\n        window.addEventListener(\"resize\", event => {\r\n            document.querySelectorAll(\".book-player .progress\").forEach((elem) => {\r\n                elem.classList.toggle(\"-touch\", window.matchMedia(\"(hover: none)\").matches);\r\n            });\r\n        });\r\n        document.querySelectorAll(\".book-player .progress\").forEach((elem) => {\r\n            elem.classList.toggle(\"-touch\", window.matchMedia(\"(hover: none)\").matches);\r\n        });\r\n    }\r\n});"]}