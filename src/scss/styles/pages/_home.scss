@use "../../helpers";
@use "../../helpers/mixins";
@use "../../helpers/styles";
@use "../../resources";
@use "../../resources/appearance/effects";
@use "../../resources/layout/breakpoints";
@use "../basic";
@use "../components";
@use "../layout";

.book-player {
    /*layout*/

    --progress-zone-top: 4em;
    --progress-zone-bottom: 2em;

    --progress-area-height: 30%;

    --progress-min: var(--line-width);
    --progress-near: 4px;
    --progress-max: 8px;

    --point-min: var(--progress-min);
    --point-near: 10px;
    --point-most: 16px;
    --point-max: 22px;


    --page-zone-width: 25%;

    --page-area-width: 14em;

    --page-arrow-distance: 36px;

    /*styling*/

    --major: var(var(--bfl-purple));

    --area: #00000022;
    --area-anim: opacity 100ms linear;

    --page-turn: #00000011;

    /*data*/
    --page-per-view: 2;

    --total-pages: 10;
    --current-page: 1;
    --progress: calc(var(--current-page) / var(--total-pages)) * 100%;
}

.book-player {
    // margin: 1cm auto;
    margin: 0 0 0.5cm 0;
    max-width: var(--max-viewer-width);
    min-width: var(--min-viewer-width);
    // max-height: 90vh;
    /* max-height:; */

    // box-shadow: var(--drop-out);
    @include effects.drop-out();

    @include breakpoints.md {
        margin: 1cm auto;
    }
}

.book-player-info {
    @include effects.drop-out();

    &.book {
        z-index: 2;
    }
    &.author {
        z-index: 1;
    }
    &.reader {
        z-index: 0;
    }
    &.editor {
        z-index: -1;

        box-shadow: none;
    }
}

.bottom-wrap {
    display: flex;
    flex-direction:column;
    align-items: stretch;
    justify-content:flex-start;
    flex-wrap: wrap;

    gap: 1em;
    padding: 1em 0;

    > .rect-link {
        flex-basis: auto;
        flex-grow: 0;
        flex-shrink: 0;
    }

    @include breakpoints.md {
        flex-direction: row !important;
        align-items: flex-start !important;
        justify-content:flex-start !important;

        > .rect-link {
            width: 8cm;
            height: 8cm;
        }
    }
}

#content .article-content {
    padding-top: 1cm;
    padding-bottom: 2cm;

    @include styles.heading {
        color: var(--col-black);
    }
}